<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <link href="coqdoc.css" rel="stylesheet" type="text/css" />
  <link href="coqdocjs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="config.js"></script>
  <script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename">
        <script> document.write(document.title) </script>
      </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
  </div>
  <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">CegarTableaux.Mcnf.Correctness</h1>

<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">PeanoNat</span> <span class="id" title="library">Setoids.Setoid</span> <span class="id" title="library">Classical</span> <span class="id" title="library">Lia</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="library">List</span>.<br/>

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">CegarTableaux</span> <span class="id" title="keyword">Require</span> <a class="idref" href="CegarTableaux.Lit.html#"><span class="id" title="library">Lit</span></a> <a class="idref" href="CegarTableaux.Nnf.html#"><span class="id" title="library">Nnf</span></a> <a class="idref" href="CegarTableaux.Kripke.html#"><span class="id" title="library">Kripke</span></a> <a class="idref" href="CegarTableaux.Mclause.html#"><span class="id" title="library">Mclause</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">CegarTableaux.Mcnf</span> <span class="id" title="keyword">Require</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#"><span class="id" title="library">Mcnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Conversion.html#"><span class="id" title="library">Conversion</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">CegarTableaux</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CegarTableaux.Utils.html#"><span class="id" title="library">Utils</span></a>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="module">List.ListNotations</span>.<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">list_scope</span>.<br/>

<br/>
</div>

<div class="doc">
Shorter alias for conversion functions 
</div>
<div class="code">
<span class="id" title="keyword">Module</span> <a id="Mcnfc" class="idref" href="#Mcnfc"><span class="id" title="module">Mcnfc</span></a> := <a class="idref" href="CegarTableaux.Mcnf.Conversion.html#"><span class="id" title="module">Conversion</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sur_input_le_return" class="idref" href="#sur_input_le_return"><span class="id" title="lemma">sur_input_le_return</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="name:1" class="idref" href="#name:1"><span class="id" title="binder">name</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="phi:2" class="idref" href="#phi:2"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>) (<a id="sur:3" class="idref" href="#sur:3"><span class="id" title="binder">sur</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:3"><span class="id" title="variable">sur</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#name:1"><span class="id" title="variable">name</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:2"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:3"><span class="id" title="variable">sur</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">name</span> <span class="id" title="var">phi</span> <span class="id" title="var">sur</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">name</span> <span class="id" title="var">sur</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">phi</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">name</span> <span class="id" title="var">sur</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">sur</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sur</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">sur_A</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sur</span>) <span class="id" title="var">B</span> <span class="id" title="var">sur_A</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">B_mcnf</span> <span class="id" title="var">sur_B</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;transitivity&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">sur</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sur</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHB</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sur</span>) <span class="id" title="var">sur_A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">name</span> <span class="id" title="var">sur</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">sur</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sur</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">sur_A</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sur</span>) <span class="id" title="var">B</span> <span class="id" title="var">sur_A</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">B_mcnf</span> <span class="id" title="var">sur_B</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;transitivity&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHB</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sur</span>) <span class="id" title="var">sur_A</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">sur</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sur</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">name</span> <span class="id" title="var">sur</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">sur</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sur</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">sur_A</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;transitivity&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">sur</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sur</span>)). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">name</span> <span class="id" title="var">sur</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">sur</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sur</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">sur_A</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;transitivity&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">sur</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sur</span>)). <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*<br/>
&nbsp;&nbsp;an&nbsp;extra&nbsp;tactic&nbsp;<span class="inlinecode"><span class="id" title="var">autolia</span></span>&nbsp;that&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">lia</span></span>&nbsp;but&nbsp;applies&nbsp;some<br/>
&nbsp;&nbsp;known&nbsp;inequalities&nbsp;from&nbsp;the&nbsp;above&nbsp;theorems.<br/>
*)</span><br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">add_ineq_from_sym_in_nnf</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span>: <a class="idref" href="CegarTableaux.Nnf.html#In"><span class="id" title="definition">Nnf.In</span></a> ?<span class="id" title="var">x</span> ?<span class="id" title="var">phi</span> |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CegarTableaux.Nnf.html#max_atm"><span class="id" title="definition">Nnf.max_atm</span></a> <span class="id" title="var">phi</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;assertion&nbsp;already&nbsp;known:&nbsp;fail&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tryif</span> <span class="id" title="tactic">assert</span> <span class="id" title="var">T</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hle</span> := <span class="id" title="tactic">fresh</span> "Hsym_le" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">T</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hle</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Nnf.html#atm_le_max"><span class="id" title="lemma">Nnf.atm_le_max</span></a>; <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">add_ineq_from_n_impl</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">q</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> ?<span class="id" title="var">name</span> ?<span class="id" title="var">phi</span> ?<span class="id" title="var">sur</span>) |- <span class="id" title="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">T</span> := <span class="id" title="keyword">constr</span>:(<span class="id" title="var">sur</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">q</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tryif</span> <span class="id" title="tactic">assert</span> <span class="id" title="var">T</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fail</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hle</span> := <span class="id" title="tactic">fresh</span> "Hsur_le" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">T</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hle</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">unfold</span> <span class="id" title="var">q</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur_input_le_return"><span class="id" title="lemma">sur_input_le_return</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;since&nbsp;we&nbsp;clear&nbsp;it,&nbsp;lia&nbsp;can't&nbsp;solve&nbsp;if&nbsp;we&nbsp;have&nbsp;an&nbsp;unfolded&nbsp;version&nbsp;of&nbsp;q&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fold_all</span> <span class="id" title="var">q</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearbody</span> <span class="id" title="var">q</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">add_ineqs</span> := <span class="id" title="tactic">repeat</span> (<span class="id" title="var">add_ineq_from_sym_in_nnf</span>; [] || <span class="id" title="var">add_ineq_from_n_impl</span>; []).<br/>

<br/>
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">autolia</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">add_ineqs</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>

<br/>
</div>

<div class="doc">
  Solve the current goal with a variety of autosolvers which are likely
  to solve goals relating to the current context.

<div class="paragraph"> </div>

  This fails if the goal cannot be completely solved.

<div class="paragraph"> </div>

  Should be used like <span class="inlinecode"><span class="id" title="keyword">Proof</span></span> <span class="inlinecode"><span class="id" title="keyword">with</span></span> <span class="inlinecode"><span class="id" title="tactic">try</span></span> <span class="inlinecode"><span class="id" title="var">finish</span>.</span>.

</div>
<div class="code">
<span class="id" title="keyword">Local Ltac</span> <span class="id" title="var">finish</span> := <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">auto</span> | <span class="id" title="var">autolia</span> | <span class="id" title="tactic">tauto</span> | <span class="id" title="var">ifauto</span>].<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="conv_atm_range" class="idref" href="#conv_atm_range"><span class="id" title="lemma">conv_atm_range</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="phi:4" class="idref" href="#phi:4"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="n:5" class="idref" href="#n:5"><span class="id" title="binder">n</span></a> <a id="p:6" class="idref" href="#p:6"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Hmnp_lt:7" class="idref" href="#Hmnp_lt:7"><span class="id" title="binder">Hmnp_lt</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#max_atm"><span class="id" title="definition">Nnf.max_atm</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:4"><span class="id" title="variable">phi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:5"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:6"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="x:8" class="idref" href="#x:8"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="phi_mcnf:9" class="idref" href="#phi_mcnf:9"><span class="id" title="binder">phi_mcnf</span></a>, <a id="q:10" class="idref" href="#q:10"><span class="id" title="binder">q</span></a>) := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:5"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:4"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:6"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#In"><span class="id" title="definition">Mcnf.In</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi_mcnf:9"><span class="id" title="variable">phi_mcnf</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CegarTableaux.Nnf.html#In"><span class="id" title="definition">Nnf.In</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:4"><span class="id" title="variable">phi</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:5"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:6"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#q:10"><span class="id" title="variable">q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">phi</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">Hmnp_lt</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">Hmnp_lt</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">phi</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;]; <span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">Hmnp_lt</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;literal:&nbsp;x&nbsp;in&nbsp;phi&nbsp;or&nbsp;x&nbsp;=&nbsp;n&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">n</span> (<a class="idref" href="CegarTableaux.Nnf.html#Lit"><span class="id" title="constructor">Nnf.Lit</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">phi_mcnf</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hxmcnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">phi_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hxmcnf</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hxmcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hxmcnf</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hn_eq_x</span> | [<span class="id" title="var">Hl_eq_x</span> | <span class="id" title="var">F</span>]] | <span class="id" title="var">F</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;n&nbsp;=&nbsp;x&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hn_eq_x</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;l&nbsp;=&nbsp;x&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl_eq_x</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;and&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;destruct&nbsp;let-in&nbsp;statements&nbsp;to&nbsp;fst&nbsp;and&nbsp;last&nbsp;equalities&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">nA</span> := <span class="id" title="var">p</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">nB</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">nA</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">nA</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">nB</span> <span class="id" title="var">B</span> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">B_mcnf</span> <span class="id" title="var">r</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hx_in_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;apply&nbsp;IH&nbsp;to&nbsp;the&nbsp;specific&nbsp;surrogate/name&nbsp;values&nbsp;used&nbsp;by&nbsp;this&nbsp;branch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">nA</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHB</span> <span class="id" title="var">nB</span> <span class="id" title="var">q</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;prove&nbsp;all&nbsp;LHS&nbsp;of&nbsp;implications&nbsp;in&nbsp;IH&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHA</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHB</span> <span class="id" title="tactic">by</span> <span class="id" title="var">autolia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;simplify&nbsp;IH&nbsp;again.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">A_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">B_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHB</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;to&nbsp;apply&nbsp;to&nbsp;IH's&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">nA</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">nB</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#In"><span class="id" title="definition">Mcnf.In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">A_mcnf</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#In"><span class="id" title="definition">Mcnf.In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">B_mcnf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hin_split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_in_mcnf</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hnx</span> | [<span class="id" title="var">HnAx</span> | <span class="id" title="var">F</span>]] | [[<span class="id" title="var">Hnx</span> | [<span class="id" title="var">HnBx</span> | <span class="id" title="var">F</span>]] | <span class="id" title="var">Hx_in_mcnf</span>]]; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#in_mcnf_or"><span class="id" title="lemma">Mcnf.in_mcnf_or</span></a>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hx_in_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_split</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">Hxn</span> | [<span class="id" title="var">Hxp</span> | [<span class="id" title="var">HxSp</span> | [<span class="id" title="var">Hx_in_A</span> | <span class="id" title="var">Hx_in_b</span>]]]]; <span class="id" title="tactic">try</span> <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;in&nbsp;A_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHA</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHA</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="var">autolia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;in&nbsp;B_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHB</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHB</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="var">autolia</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;or&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;destruct&nbsp;let-in&nbsp;statements&nbsp;to&nbsp;fst&nbsp;and&nbsp;last&nbsp;equalities&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">B_mcnf</span> <span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hx_in_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;apply&nbsp;IH&nbsp;to&nbsp;the&nbsp;specific&nbsp;surrogate/name&nbsp;values&nbsp;used&nbsp;by&nbsp;this&nbsp;branch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHB</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">q</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;prove&nbsp;all&nbsp;LHS&nbsp;of&nbsp;implications&nbsp;in&nbsp;IH&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHA</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHB</span> <span class="id" title="tactic">by</span> <span class="id" title="var">autolia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;simplify&nbsp;IH&nbsp;again.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">A_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">B_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHB</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;to&nbsp;apply&nbsp;to&nbsp;IH's&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#In"><span class="id" title="definition">Mcnf.In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">A_mcnf</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#In"><span class="id" title="definition">Mcnf.In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">B_mcnf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hin_split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_in_mcnf</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hnx</span> | [<span class="id" title="var">Hpx</span> | [<span class="id" title="var">HSpx</span> | <span class="id" title="var">F</span>]]] | <span class="id" title="var">Habx</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#in_mcnf_or"><span class="id" title="lemma">Mcnf.in_mcnf_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Habx</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_split</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">Hxn</span> | [<span class="id" title="var">Hxp</span> | [<span class="id" title="var">HxSp</span> | [<span class="id" title="var">Hx_in_A</span> | <span class="id" title="var">Hx_in_b</span>]]]]; <span class="id" title="tactic">try</span> <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;in&nbsp;A_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHA</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHA</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;in&nbsp;B_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHB</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHB</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="var">autolia</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;box&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;destruct&nbsp;let-in&nbsp;statements&nbsp;to&nbsp;fst&nbsp;and&nbsp;last&nbsp;equalities&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hx_in_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;apply&nbsp;IH&nbsp;to&nbsp;the&nbsp;specific&nbsp;surrogate/name&nbsp;values&nbsp;used&nbsp;by&nbsp;this&nbsp;branch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;prove&nbsp;all&nbsp;LHS&nbsp;of&nbsp;implications&nbsp;in&nbsp;IH&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHA</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;simplify&nbsp;IH&nbsp;again.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">A_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;to&nbsp;apply&nbsp;to&nbsp;IH's&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#In"><span class="id" title="definition">Mcnf.In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">A_mcnf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hin_split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">A_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_in_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_in_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_in_mcnf</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hxn</span> | <span class="id" title="var">Hxp</span>] | <span class="id" title="var">Hctx_a_x</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#in_ctx_iff_in_mcnf"><span class="id" title="lemma">Mcnf.in_ctx_iff_in_mcnf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hctx_a_x</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;adding&nbsp;these&nbsp;allow&nbsp;lia&nbsp;to&nbsp;auto-prove&nbsp;most&nbsp;cases.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HSp_le_q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur_input_le_return"><span class="id" title="lemma">sur_input_le_return</span></a>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_split</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">Hxn</span> | [<span class="id" title="var">Hxp</span> | <span class="id" title="var">Hx_in_A</span>]]; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;in&nbsp;A_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHA</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHA</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;dia&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;is&nbsp;identical&nbsp;to&nbsp;the&nbsp;box&nbsp;case&nbsp;except&nbsp;for&nbsp;the&nbsp;first&nbsp;destruct_pair.&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;destruct&nbsp;let-in&nbsp;statements&nbsp;to&nbsp;fst&nbsp;and&nbsp;last&nbsp;equalities&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hx_in_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;apply&nbsp;IH&nbsp;to&nbsp;the&nbsp;specific&nbsp;surrogate/name&nbsp;values&nbsp;used&nbsp;by&nbsp;this&nbsp;branch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;prove&nbsp;all&nbsp;LHS&nbsp;of&nbsp;implications&nbsp;in&nbsp;IH&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHA</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;simplify&nbsp;IH&nbsp;again.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;makes&nbsp;A&nbsp;bunch&nbsp;of&nbsp;redundant&nbsp;equalities,&nbsp;remove&nbsp;them&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">A_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;to&nbsp;apply&nbsp;to&nbsp;IH's&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#In"><span class="id" title="definition">Mcnf.In</span></a> <span class="id" title="var">x</span> <span class="id" title="var">A_mcnf</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hin_split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_in_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_in_mcnf</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">Hxn</span> | <span class="id" title="var">Hxp</span>] | <span class="id" title="var">Hctx_a_x</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#in_ctx_iff_in_mcnf"><span class="id" title="lemma">Mcnf.in_ctx_iff_in_mcnf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hctx_a_x</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;adding&nbsp;these&nbsp;allow&nbsp;lia&nbsp;to&nbsp;auto-prove&nbsp;most&nbsp;cases.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">HSp_le_q</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur_input_le_return"><span class="id" title="lemma">sur_input_le_return</span></a>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hin_split</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">Hxn</span> | [<span class="id" title="var">Hxp</span> | <span class="id" title="var">Hx_in_A</span>]]; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;in&nbsp;A_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHA</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHA</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="EquisatModel" class="idref" href="#EquisatModel"><span class="id" title="section">EquisatModel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="set_kripke_at_n_iff_force" class="idref" href="#set_kripke_at_n_iff_force"><span class="id" title="definition">set_kripke_at_n_iff_force</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="W:11" class="idref" href="#W:11"><span class="id" title="binder">W</span></a>} {<a id="R:12" class="idref" href="#R:12"><span class="id" title="binder">R</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;model&nbsp;to&nbsp;change&nbsp;at&nbsp;n&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Mmcnf:13" class="idref" href="#Mmcnf:13"><span class="id" title="binder">Mmcnf</span></a> : @<a class="idref" href="CegarTableaux.Kripke.html#t"><span class="id" title="record">Kripke.t</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:11"><span class="id" title="variable">W</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#R:12"><span class="id" title="variable">R</span></a>) (<a id="n:14" class="idref" href="#n:14"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;at&nbsp;n,&nbsp;set&nbsp;valuation&nbsp;to&nbsp;Nnf.force&nbsp;Mnnf&nbsp;w&nbsp;phi&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Mnnf:15" class="idref" href="#Mnnf:15"><span class="id" title="binder">Mnnf</span></a> : @<a class="idref" href="CegarTableaux.Kripke.html#t"><span class="id" title="record">Kripke.t</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:11"><span class="id" title="variable">W</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#R:12"><span class="id" title="variable">R</span></a>) (<a id="phi:16" class="idref" href="#phi:16"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: @<a class="idref" href="CegarTableaux.Kripke.html#t"><span class="id" title="record">Kripke.t</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:11"><span class="id" title="variable">W</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#R:12"><span class="id" title="variable">R</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Kripke.html#make"><span class="id" title="definition">Kripke.make</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:11"><span class="id" title="variable">W</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#R:12"><span class="id" title="variable">R</span></a> (<span class="id" title="keyword">fun</span> <a id="w:17" class="idref" href="#w:17"><span class="id" title="binder">w</span></a> <a id="x:18" class="idref" href="#x:18"><span class="id" title="binder">x</span></a> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:18"><span class="id" title="variable">x</span></a> <span class="id" title="notation">=?</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:14"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="CegarTableaux.Nnf.html#force"><span class="id" title="definition">Nnf.force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#Mnnf:15"><span class="id" title="variable">Mnnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w:17"><span class="id" title="variable">w</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:16"><span class="id" title="variable">phi</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#Mmcnf:13"><span class="id" title="variable">Mmcnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w:17"><span class="id" title="variable">w</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:18"><span class="id" title="variable">x</span></a>).<br/>

<br/>
</div>

<div class="doc">
  Transforms M so that M forces (n -&gt; phi) iff M' forces (n -&gt; phi_mcnf)
  Requires that <span class="inlinecode"><span class="id" title="var">Nnf.max_atm</span></span> <span class="inlinecode"><span class="id" title="var">phi</span></span> <span class="inlinecode">&lt;</span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode">&lt;</span> <span class="inlinecode"><span class="id" title="var">sur</span></span>
  
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="named_model" class="idref" href="#named_model"><span class="id" title="definition">named_model</span></a> {<a id="W:19" class="idref" href="#W:19"><span class="id" title="binder">W</span></a>} {<a id="R:20" class="idref" href="#R:20"><span class="id" title="binder">R</span></a>} (<a id="M:21" class="idref" href="#M:21"><span class="id" title="binder">M</span></a> : @<a class="idref" href="CegarTableaux.Kripke.html#t"><span class="id" title="record">Kripke.t</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:19"><span class="id" title="variable">W</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#R:20"><span class="id" title="variable">R</span></a>) (<a id="n:22" class="idref" href="#n:22"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="phi:23" class="idref" href="#phi:23"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>) (<a id="sur:24" class="idref" href="#sur:24"><span class="id" title="binder">sur</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : @<a class="idref" href="CegarTableaux.Kripke.html#t"><span class="id" title="record">Kripke.t</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:19"><span class="id" title="variable">W</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#R:20"><span class="id" title="variable">R</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:23"><span class="id" title="variable">phi</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;n&nbsp;-&gt;&nbsp;l&nbsp;&nbsp;=&gt;&nbsp;&nbsp;~n&nbsp;\/&nbsp;l&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CegarTableaux.Nnf.html#Lit"><span class="id" title="constructor">Nnf.Lit</span></a> <span class="id" title="var">l</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#set_kripke_at_n_iff_force"><span class="id" title="definition">set_kripke_at_n_iff_force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:21"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:22"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:21"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:23"><span class="id" title="variable">phi</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;n&nbsp;-&gt;&nbsp;A&nbsp;/\&nbsp;B&nbsp;&nbsp;=&gt;&nbsp;&nbsp;n&nbsp;-&gt;&nbsp;nA&nbsp;;&nbsp;n&nbsp;-&gt;&nbsp;nB&nbsp;;&nbsp;nA&nbsp;-&gt;&nbsp;A&nbsp;;&nbsp;nB&nbsp;-&gt;&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CegarTableaux.Nnf.html#And"><span class="id" title="constructor">Nnf.And</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="nA:27" class="idref" href="#nA:27"><span class="id" title="binder">nA</span></a>, <a id="sur:28" class="idref" href="#sur:28"><span class="id" title="binder">sur</span></a>) := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:24"><span class="id" title="variable">sur</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:24"><span class="id" title="variable">sur</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="nB:29" class="idref" href="#nB:29"><span class="id" title="binder">nB</span></a>, <a id="sur:30" class="idref" href="#sur:30"><span class="id" title="binder">sur</span></a>) := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:28"><span class="id" title="variable">sur</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:28"><span class="id" title="variable">sur</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="M':31" class="idref" href="#M':31"><span class="id" title="binder">M'</span></a> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model:25"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:21"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#nA:27"><span class="id" title="variable">nA</span></a> <span class="id" title="var">A</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:30"><span class="id" title="variable">sur</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="sur:32" class="idref" href="#sur:32"><span class="id" title="binder">sur</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#nA:27"><span class="id" title="variable">nA</span></a> <span class="id" title="var">A</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:30"><span class="id" title="variable">sur</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="M':33" class="idref" href="#M':33"><span class="id" title="binder">M'</span></a> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model:25"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M':31"><span class="id" title="variable">M'</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#nB:29"><span class="id" title="variable">nB</span></a> <span class="id" title="var">B</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:32"><span class="id" title="variable">sur</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#set_kripke_at_n_iff_force"><span class="id" title="definition">set_kripke_at_n_iff_force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M':33"><span class="id" title="variable">M'</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:22"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:21"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:23"><span class="id" title="variable">phi</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;n&nbsp;-&gt;&nbsp;A&nbsp;\/&nbsp;B&nbsp;&nbsp;=&gt;&nbsp;&nbsp;n&nbsp;-&gt;&nbsp;nA&nbsp;\/&nbsp;nB&nbsp;;&nbsp;nA&nbsp;-&gt;&nbsp;A&nbsp;;&nbsp;nB&nbsp;-&gt;&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CegarTableaux.Nnf.html#Or"><span class="id" title="constructor">Nnf.Or</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="nA:34" class="idref" href="#nA:34"><span class="id" title="binder">nA</span></a>, <a id="sur:35" class="idref" href="#sur:35"><span class="id" title="binder">sur</span></a>) := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:24"><span class="id" title="variable">sur</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:24"><span class="id" title="variable">sur</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="nB:36" class="idref" href="#nB:36"><span class="id" title="binder">nB</span></a>, <a id="sur:37" class="idref" href="#sur:37"><span class="id" title="binder">sur</span></a>) := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:35"><span class="id" title="variable">sur</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:35"><span class="id" title="variable">sur</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="M':38" class="idref" href="#M':38"><span class="id" title="binder">M'</span></a> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model:25"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:21"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#nA:34"><span class="id" title="variable">nA</span></a> <span class="id" title="var">A</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:37"><span class="id" title="variable">sur</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="sur:39" class="idref" href="#sur:39"><span class="id" title="binder">sur</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#nA:34"><span class="id" title="variable">nA</span></a> <span class="id" title="var">A</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:37"><span class="id" title="variable">sur</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="M':40" class="idref" href="#M':40"><span class="id" title="binder">M'</span></a> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model:25"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M':38"><span class="id" title="variable">M'</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#nB:36"><span class="id" title="variable">nB</span></a> <span class="id" title="var">B</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:39"><span class="id" title="variable">sur</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#set_kripke_at_n_iff_force"><span class="id" title="definition">set_kripke_at_n_iff_force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M':40"><span class="id" title="variable">M'</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:22"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:21"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:23"><span class="id" title="variable">phi</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;n&nbsp;-&gt;&nbsp;<span class="inlinecode"></span>A&nbsp;&nbsp;=&gt;&nbsp;&nbsp;n&nbsp;-&gt;&nbsp;<span class="inlinecode"></span>nA&nbsp;;&nbsp;<span class="inlinecode"></span>(nA&nbsp;-&gt;&nbsp;A)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CegarTableaux.Nnf.html#Box"><span class="id" title="constructor">Nnf.Box</span></a> <span class="id" title="var">A</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="nA:41" class="idref" href="#nA:41"><span class="id" title="binder">nA</span></a>, <a id="sur:42" class="idref" href="#sur:42"><span class="id" title="binder">sur</span></a>) := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:24"><span class="id" title="variable">sur</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:24"><span class="id" title="variable">sur</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="M':43" class="idref" href="#M':43"><span class="id" title="binder">M'</span></a> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model:25"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:21"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#nA:41"><span class="id" title="variable">nA</span></a> <span class="id" title="var">A</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:42"><span class="id" title="variable">sur</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#set_kripke_at_n_iff_force"><span class="id" title="definition">set_kripke_at_n_iff_force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M':43"><span class="id" title="variable">M'</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:22"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:21"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:23"><span class="id" title="variable">phi</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;n&nbsp;-&gt;&nbsp;&lt;&gt;A&nbsp;&nbsp;=&gt;&nbsp;&nbsp;n&nbsp;-&gt;&nbsp;&lt;&gt;nA&nbsp;;&nbsp;<span class="inlinecode"></span>(nA&nbsp;-&gt;&nbsp;A)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CegarTableaux.Nnf.html#Dia"><span class="id" title="constructor">Nnf.Dia</span></a> <span class="id" title="var">A</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="nA:44" class="idref" href="#nA:44"><span class="id" title="binder">nA</span></a>, <a id="sur:45" class="idref" href="#sur:45"><span class="id" title="binder">sur</span></a>) := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:24"><span class="id" title="variable">sur</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:24"><span class="id" title="variable">sur</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="M':46" class="idref" href="#M':46"><span class="id" title="binder">M'</span></a> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model:25"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:21"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#nA:44"><span class="id" title="variable">nA</span></a> <span class="id" title="var">A</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur:45"><span class="id" title="variable">sur</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#set_kripke_at_n_iff_force"><span class="id" title="definition">set_kripke_at_n_iff_force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M':46"><span class="id" title="variable">M'</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:22"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:21"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:23"><span class="id" title="variable">phi</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#EquisatModel"><span class="id" title="section">EquisatModel</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="EquisatModelRange" class="idref" href="#EquisatModelRange"><span class="id" title="section">EquisatModelRange</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="named_model_changes_sur_only" class="idref" href="#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="W:47" class="idref" href="#W:47"><span class="id" title="binder">W</span></a>} {<a id="R:48" class="idref" href="#R:48"><span class="id" title="binder">R</span></a>} (<a id="M:49" class="idref" href="#M:49"><span class="id" title="binder">M</span></a> : @<a class="idref" href="CegarTableaux.Kripke.html#t"><span class="id" title="record">Kripke.t</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:47"><span class="id" title="variable">W</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#R:48"><span class="id" title="variable">R</span></a>) (<a id="w:50" class="idref" href="#w:50"><span class="id" title="binder">w</span></a> : <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:47"><span class="id" title="variable">W</span></a>) (<a id="phi:51" class="idref" href="#phi:51"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>) (<a id="n:52" class="idref" href="#n:52"><span class="id" title="binder">n</span></a> <a id="p:53" class="idref" href="#p:53"><span class="id" title="binder">p</span></a> <a id="x:54" class="idref" href="#x:54"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="Hmnp_lt:55" class="idref" href="#Hmnp_lt:55"><span class="id" title="binder">Hmnp_lt</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#max_atm"><span class="id" title="definition">Nnf.max_atm</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:51"><span class="id" title="variable">phi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:52"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:53"><span class="id" title="variable">p</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="s:56" class="idref" href="#s:56"><span class="id" title="binder">s</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:52"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:51"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:53"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:54"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:52"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:53"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:54"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#s:56"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:49"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w:50"><span class="id" title="variable">w</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:54"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:49"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:52"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:51"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:53"><span class="id" title="variable">p</span></a>) <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w:50"><span class="id" title="variable">w</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:54"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">W</span> <span class="id" title="var">R</span> <span class="id" title="var">M</span> <span class="id" title="var">w</span> <span class="id" title="var">phi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">phi</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> <span class="id" title="var">w</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">Hmnp_lt</span> <span class="id" title="var">s</span> <span class="id" title="var">Hx_range</span>; <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_or_and</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;literal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;and&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">set</span> (<span class="id" title="var">MA</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">M</span> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">MB</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">MA</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">r</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmnp_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">inline_pair</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur_input_le_return"><span class="id" title="lemma">sur_input_le_return</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">inline_pair</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">M</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MA</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hval_M_MA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MA</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MB</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hval_MA_MB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHB</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">r</span>. <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">MA</span> <span class="id" title="var">q</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">tauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;or&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">set</span> (<span class="id" title="var">MA</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">M</span> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">MB</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">MA</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">r</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmnp_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">inline_pair</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur_input_le_return"><span class="id" title="lemma">sur_input_le_return</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">inline_pair</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">M</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MA</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hval_M_MA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MA</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MB</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hval_MA_MB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHB</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">r</span>. <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">MA</span> <span class="id" title="var">q</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">tauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;box&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmnp_lt</span>. <span class="id" title="var">ifauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">inline_pair</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span>... <span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="var">autolia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;dia&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmnp_lt</span>. <span class="id" title="var">ifauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">inline_pair</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span>... <span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="named_model_vals_name_iff_force" class="idref" href="#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="W:57" class="idref" href="#W:57"><span class="id" title="binder">W</span></a>} {<a id="R:58" class="idref" href="#R:58"><span class="id" title="binder">R</span></a>} (<a id="M:59" class="idref" href="#M:59"><span class="id" title="binder">M</span></a> : @<a class="idref" href="CegarTableaux.Kripke.html#t"><span class="id" title="record">Kripke.t</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:57"><span class="id" title="variable">W</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#R:58"><span class="id" title="variable">R</span></a>) (<a id="w:60" class="idref" href="#w:60"><span class="id" title="binder">w</span></a> : <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:57"><span class="id" title="variable">W</span></a>) (<a id="phi:61" class="idref" href="#phi:61"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>) (<a id="n:62" class="idref" href="#n:62"><span class="id" title="binder">n</span></a> <a id="p:63" class="idref" href="#p:63"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:59"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:61"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:63"><span class="id" title="variable">p</span></a>) <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w:60"><span class="id" title="variable">w</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Nnf.html#force"><span class="id" title="definition">Nnf.force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:59"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w:60"><span class="id" title="variable">w</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:61"><span class="id" title="variable">phi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">W</span> <span class="id" title="var">R</span> <span class="id" title="var">M</span> <span class="id" title="var">w</span> <span class="id" title="var">phi</span>. <span class="id" title="var">revert</span> <span class="id" title="var">w</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">phi</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">ifauto</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="named_model_overrides_all_sur" class="idref" href="#named_model_overrides_all_sur"><span class="id" title="lemma">named_model_overrides_all_sur</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="W:64" class="idref" href="#W:64"><span class="id" title="binder">W</span></a>} {<a id="R:65" class="idref" href="#R:65"><span class="id" title="binder">R</span></a>} (<a id="M:66" class="idref" href="#M:66"><span class="id" title="binder">M</span></a> <a id="M':67" class="idref" href="#M':67"><span class="id" title="binder">M'</span></a> : @<a class="idref" href="CegarTableaux.Kripke.html#t"><span class="id" title="record">Kripke.t</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:64"><span class="id" title="variable">W</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#R:65"><span class="id" title="variable">R</span></a>) (<a id="w:68" class="idref" href="#w:68"><span class="id" title="binder">w</span></a> : <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:64"><span class="id" title="variable">W</span></a>) (<a id="phi:69" class="idref" href="#phi:69"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>) (<a id="n:70" class="idref" href="#n:70"><span class="id" title="binder">n</span></a> <a id="p:71" class="idref" href="#p:71"><span class="id" title="binder">p</span></a> <a id="x:72" class="idref" href="#x:72"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="Hmnp_lt:73" class="idref" href="#Hmnp_lt:73"><span class="id" title="binder">Hmnp_lt</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#max_atm"><span class="id" title="definition">Nnf.max_atm</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:69"><span class="id" title="variable">phi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:70"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:71"><span class="id" title="variable">p</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="q:74" class="idref" href="#q:74"><span class="id" title="binder">q</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:70"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:69"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:71"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:71"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:72"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#q:74"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Nnf.html#agree"><span class="id" title="definition">Nnf.agree</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:69"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:66"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M':67"><span class="id" title="variable">M'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:66"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:70"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:69"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:71"><span class="id" title="variable">p</span></a>) <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w:68"><span class="id" title="variable">w</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:72"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M':67"><span class="id" title="variable">M'</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:70"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:69"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:71"><span class="id" title="variable">p</span></a>) <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w:68"><span class="id" title="variable">w</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#x:72"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">W</span> <span class="id" title="var">R</span> <span class="id" title="var">M</span> <span class="id" title="var">M'</span> <span class="id" title="var">w</span> <span class="id" title="var">phi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">w</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">M</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">M'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">phi</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> <span class="id" title="var">M'</span> <span class="id" title="var">w</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">x</span> <span class="id" title="var">Hmnp_lt</span> <span class="id" title="var">s</span> <span class="id" title="var">Hx_range</span> <span class="id" title="var">Hmodels_agree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;holds&nbsp;because&nbsp;s&nbsp;=&nbsp;p,&nbsp;the&nbsp;range&nbsp;is&nbsp;empty&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>. <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">set</span> (<span class="id" title="var">MA</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">M</span> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">MB</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">MA</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">r</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">M'A</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">M'</span> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">M'B</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">M'A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmnp_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">inline_pair</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur_input_le_return"><span class="id" title="lemma">sur_input_le_return</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">inline_pair</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">MA</span> <span class="id" title="var">M'A</span> <span class="id" title="var">q</span> <span class="id" title="var">MB</span> <span class="id" title="var">M'B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hxp</span> | [<span class="id" title="var">HxSp</span> | [<span class="id" title="var">Hpxq</span> | <span class="id" title="var">Hqxs</span>]]] <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;=&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>, <span class="id" title="var">M'B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> <span class="id" title="var">M'A</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> <span class="id" title="var">MA</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>, <span class="id" title="var">M'A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hxp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Nnf.html#meaningful_valuations"><span class="id" title="lemma">Nnf.meaningful_valuations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Nnf.html#agree_l"><span class="id" title="lemma">Nnf.agree_l</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>). <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;=&nbsp;S&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>, <span class="id" title="var">M'B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HxSp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Nnf.html#meaningful_valuations"><span class="id" title="lemma">Nnf.meaningful_valuations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Nnf.html#agree"><span class="id" title="definition">Nnf.agree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;MA&nbsp;and&nbsp;M'A&nbsp;agree&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w'</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx'_in_B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>, <span class="id" title="var">M'A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> <span class="id" title="var">M'</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> <span class="id" title="var">M</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Nnf.html#agree_r"><span class="id" title="lemma">Nnf.agree_r</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)...<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;S&nbsp;(S&nbsp;p)&nbsp;&lt;=&nbsp;x&nbsp;&lt;&nbsp;q&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MA</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MB</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hval_MA_MB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">M'A</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">M'B</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hval_M'A_M'B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hval_MA_MB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hval_M'A_M'B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Nnf.html#agree_l"><span class="id" title="lemma">Nnf.agree_l</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>). <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;q&nbsp;&lt;=&nbsp;x&nbsp;&lt;&nbsp;s&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>, <span class="id" title="var">M'B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHB</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">fold</span> <span class="id" title="var">r</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">w'</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx'_in_B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>, <span class="id" title="var">M'A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> <span class="id" title="var">M'</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> <span class="id" title="var">M</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Nnf.html#agree_r"><span class="id" title="lemma">Nnf.agree_r</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)...<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">set</span> (<span class="id" title="var">MA</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">M</span> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">MB</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">MA</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">r</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>)).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">M'A</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">M'</span> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">M'B</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">M'A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmnp_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">inline_pair</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sur_input_le_return"><span class="id" title="lemma">sur_input_le_return</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">inline_pair</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">MA</span> <span class="id" title="var">M'A</span> <span class="id" title="var">q</span> <span class="id" title="var">MB</span> <span class="id" title="var">M'B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hxp</span> | [<span class="id" title="var">HxSp</span> | [<span class="id" title="var">Hpxq</span> | <span class="id" title="var">Hqxs</span>]]] <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;=&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>, <span class="id" title="var">M'B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> <span class="id" title="var">M'A</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> <span class="id" title="var">MA</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>, <span class="id" title="var">M'A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hxp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Nnf.html#meaningful_valuations"><span class="id" title="lemma">Nnf.meaningful_valuations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Nnf.html#agree_l"><span class="id" title="lemma">Nnf.agree_l</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>). <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;=&nbsp;S&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>, <span class="id" title="var">M'B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HxSp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Nnf.html#meaningful_valuations"><span class="id" title="lemma">Nnf.meaningful_valuations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Nnf.html#agree"><span class="id" title="definition">Nnf.agree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;MA&nbsp;and&nbsp;M'A&nbsp;agree&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w'</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx'_in_B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>, <span class="id" title="var">M'A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> <span class="id" title="var">M'</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> <span class="id" title="var">M</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Nnf.html#agree_r"><span class="id" title="lemma">Nnf.agree_r</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)...<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;S&nbsp;(S&nbsp;p)&nbsp;&lt;=&nbsp;x&nbsp;&lt;&nbsp;q&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MA</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MB</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hval_MA_MB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">M'A</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">M'B</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hval_M'A_M'B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hval_MA_MB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hval_M'A_M'B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Nnf.html#agree_l"><span class="id" title="lemma">Nnf.agree_l</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)...<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;q&nbsp;&lt;=&nbsp;x&nbsp;&lt;&nbsp;s&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>, <span class="id" title="var">M'B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHB</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">fold</span> <span class="id" title="var">r</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span> <span class="id" title="var">w'</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx'_in_B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>, <span class="id" title="var">M'A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> <span class="id" title="var">M'</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a> <span class="id" title="var">M</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Nnf.html#agree_r"><span class="id" title="lemma">Nnf.agree_r</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>)...<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmnp_lt</span>. <span class="id" title="var">ifauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">inline_pair</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hxp</span> | <span class="id" title="var">HSpxs</span>] <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hxp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Nnf.html#meaningful_valuations"><span class="id" title="lemma">Nnf.meaningful_valuations</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span>... <span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmnp_lt</span>. <span class="id" title="var">ifauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hqs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">inline_pair</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;=</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hxp</span> | <span class="id" title="var">HSpxs</span>] <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hxp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Nnf.html#meaningful_valuations"><span class="id" title="lemma">Nnf.meaningful_valuations</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span>... <span class="id" title="tactic">fold</span> <span class="id" title="var">q</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#EquisatModelRange"><span class="id" title="section">EquisatModelRange</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="NnfToMcnf" class="idref" href="#NnfToMcnf"><span class="id" title="section">NnfToMcnf</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="NnfToMcnf.W" class="idref" href="#NnfToMcnf.W"><span class="id" title="variable">W</span></a> : <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="NnfToMcnf.R" class="idref" href="#NnfToMcnf.R"><span class="id" title="variable">R</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.W"><span class="id" title="variable">W</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="NnfToMcnf.M" class="idref" href="#NnfToMcnf.M"><span class="id" title="variable">M</span></a> : @<a class="idref" href="CegarTableaux.Kripke.html#t"><span class="id" title="record">Kripke.t</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.W"><span class="id" title="variable">W</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.R"><span class="id" title="variable">R</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="IH" class="idref" href="#IH"><span class="id" title="definition">IH</span></a> <a id="phi:81" class="idref" href="#phi:81"><span class="id" title="binder">phi</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="w0:82" class="idref" href="#w0:82"><span class="id" title="binder">w0</span></a> <a id="n:83" class="idref" href="#n:83"><span class="id" title="binder">n</span></a> <a id="p:84" class="idref" href="#p:84"><span class="id" title="binder">p</span></a>, <a class="idref" href="CegarTableaux.Nnf.html#max_atm"><span class="id" title="definition">Nnf.max_atm</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:81"><span class="id" title="variable">phi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:83"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:84"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="M':85" class="idref" href="#M':85"><span class="id" title="binder">M'</span></a> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:83"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:81"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:84"><span class="id" title="variable">p</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#force"><span class="id" title="definition">Mcnf.force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M':85"><span class="id" title="variable">M'</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w0:82"><span class="id" title="variable">w0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:83"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:81"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:84"><span class="id" title="variable">p</span></a>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="lit_sat" class="idref" href="#lit_sat"><span class="id" title="lemma">lit_sat</span></a> : <span class="id" title="keyword">forall</span> (<a id="l:86" class="idref" href="#l:86"><span class="id" title="binder">l</span></a> : <a class="idref" href="CegarTableaux.Lit.html#t"><span class="id" title="inductive">Lit.t</span></a>), <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> (<a class="idref" href="CegarTableaux.Nnf.html#Lit"><span class="id" title="constructor">Nnf.Lit</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#l:86"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">l</span> <span class="id" title="var">w0</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">Hmnp_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="axiom">classic</span> (<a class="idref" href="CegarTableaux.Nnf.html#force"><span class="id" title="definition">Nnf.force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">w0</span> (<a class="idref" href="CegarTableaux.Nnf.html#Lit"><span class="id" title="constructor">Nnf.Lit</span></a> <span class="id" title="var">l</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">HM_force_l</span> | <span class="id" title="var">HM_nforce_l</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;l&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span>|<span class="id" title="var">x</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ifauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;does&nbsp;not&nbsp;force&nbsp;l&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Neg"><span class="id" title="constructor">Lit.Neg</span></a> <span class="id" title="var">n</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">split</span>... <span class="id" title="var">ifauto</span>...<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="and_sat" class="idref" href="#and_sat"><span class="id" title="lemma">and_sat</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:87" class="idref" href="#A:87"><span class="id" title="binder">A</span></a> <a id="B:88" class="idref" href="#B:88"><span class="id" title="binder">B</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>) (<a id="IHA:89" class="idref" href="#IHA:89"><span class="id" title="binder">IHA</span></a> : <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#A:87"><span class="id" title="variable">A</span></a>) (<a id="IHB:90" class="idref" href="#IHB:90"><span class="id" title="binder">IHB</span></a> : <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#B:88"><span class="id" title="variable">B</span></a>), <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> (<a class="idref" href="CegarTableaux.Nnf.html#And"><span class="id" title="constructor">Nnf.And</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#A:87"><span class="id" title="variable">A</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#B:88"><span class="id" title="variable">B</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">try</span> <span class="id" title="var">finish</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">IHA</span> <span class="id" title="var">IHB</span> <span class="id" title="var">w0</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">Hmnp_lt</span> <span class="id" title="var">M'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">B_mcnf</span> <span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">MA</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">MB</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">MA</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;assert&nbsp;(S&nbsp;(S&nbsp;p)&nbsp;&lt;=&nbsp;q)&nbsp;as&nbsp;Hpq.&nbsp;{&nbsp;unfold&nbsp;q.&nbsp;apply&nbsp;sur_input_le_return.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(q&nbsp;&lt;=&nbsp;r)&nbsp;as&nbsp;Hqr.&nbsp;{&nbsp;unfold&nbsp;r.&nbsp;apply&nbsp;sur_input_le_return.&nbsp;}&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">MA</span> <span class="id" title="var">q</span> <span class="id" title="var">MB</span> <span class="id" title="tactic">in</span> <span class="id" title="var">M'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">w0</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))). <span class="id" title="var">forward</span> <span class="id" title="var">IHA</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">MA</span> <span class="id" title="var">A_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHB</span> <span class="id" title="var">w0</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">q</span>). <span class="id" title="var">forward</span> <span class="id" title="var">IHB</span> <span class="id" title="tactic">by</span> <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">MBIH</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">MBIH</span> <span class="id" title="var">B_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHB</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHB</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#mcnf_force_and"><span class="id" title="lemma">Mcnf.mcnf_force_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;~n&nbsp;or&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="axiom">classic</span> (<a class="idref" href="CegarTableaux.Nnf.html#force"><span class="id" title="definition">Nnf.force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">w0</span> (<a class="idref" href="CegarTableaux.Nnf.html#And"><span class="id" title="constructor">Nnf.And</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">HM_force_AB</span> | <span class="id" title="var">HM_nforce_AB</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;M&nbsp;|=&nbsp;A&nbsp;/\&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;then&nbsp;M&nbsp;|=&nbsp;A&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;so&nbsp;M'&nbsp;values&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">M'</span>, <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#set_kripke_at_n_iff_force"><span class="id" title="definition">set_kripke_at_n_iff_force</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Pos"><span class="id" title="constructor">Lit.Pos</span></a> <span class="id" title="var">p</span>). <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HM_force_AB</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;M&nbsp;|/=&nbsp;A&nbsp;/\&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;then&nbsp;M'&nbsp;values&nbsp;~n&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">M'</span>, <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#set_kripke_at_n_iff_force"><span class="id" title="definition">set_kripke_at_n_iff_force</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Neg"><span class="id" title="constructor">Lit.Neg</span></a> <span class="id" title="var">n</span>). <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;~n&nbsp;or&nbsp;S&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="axiom">classic</span> (<a class="idref" href="CegarTableaux.Nnf.html#force"><span class="id" title="definition">Nnf.force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">w0</span> (<a class="idref" href="CegarTableaux.Nnf.html#And"><span class="id" title="constructor">Nnf.And</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">HM_force_AB</span> | <span class="id" title="var">HM_nforce_AB</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;M&nbsp;|=&nbsp;A&nbsp;/\&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;then&nbsp;M&nbsp;|=&nbsp;A&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;so&nbsp;M'&nbsp;values&nbsp;S&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">M'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Pos"><span class="id" title="constructor">Lit.Pos</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;coq&nbsp;is&nbsp;simplifying&nbsp;too&nbsp;far,&nbsp;need&nbsp;to&nbsp;prevent&nbsp;it&nbsp;from&nbsp;simplifying&nbsp;(S&nbsp;p)&nbsp;=?&nbsp;n&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">nB</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ifauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>...<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;MA&nbsp;force&nbsp;B&nbsp;&lt;-&gt;&nbsp;M&nbsp;force&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Nnf.html#meaningful_valuations"><span class="id" title="lemma">Nnf.meaningful_valuations</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">MA</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Nnf.html#agree"><span class="id" title="definition">Nnf.agree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx_in_B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HM_force_AB</span>. <span class="id" title="tactic">tauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;M&nbsp;|/=&nbsp;A&nbsp;/\&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;then&nbsp;M'&nbsp;values&nbsp;~n&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">M'</span>, <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#set_kripke_at_n_iff_force"><span class="id" title="definition">set_kripke_at_n_iff_force</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Neg"><span class="id" title="constructor">Lit.Neg</span></a> <span class="id" title="var">n</span>). <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;A_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#meaningful_valuations"><span class="id" title="lemma">Mcnf.meaningful_valuations</span></a> <span class="id" title="var">M'</span> <span class="id" title="var">MA</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;valuations&nbsp;equal&nbsp;for&nbsp;x&nbsp;in&nbsp;mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx_in_A_mcnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;range&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#conv_atm_range"><span class="id" title="lemma">conv_atm_range</span></a> <span class="id" title="var">A</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">Hx_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hx_range</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_range</span>. <span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">n</span>). { <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_range</span>... }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">and_not_or</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_range</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_range</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;M'&nbsp;and&nbsp;MA&nbsp;force&nbsp;p&nbsp;at&nbsp;w0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;B_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#meaningful_valuations"><span class="id" title="lemma">Mcnf.meaningful_valuations</span></a> <span class="id" title="var">M'</span> <span class="id" title="var">MB</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;valuations&nbsp;equal&nbsp;for&nbsp;x&nbsp;in&nbsp;mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx_in_A_mcnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;range&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#conv_atm_range"><span class="id" title="lemma">conv_atm_range</span></a> <span class="id" title="var">B</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hx_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="var">autolia</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hx_range</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_range</span>. <span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">n</span>). { <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_range</span>... }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;MB&nbsp;forces&nbsp;B_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#meaningful_valuations"><span class="id" title="lemma">Mcnf.meaningful_valuations</span></a> <span class="id" title="var">MB</span> <span class="id" title="var">MBIH</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;show&nbsp;that&nbsp;valuation&nbsp;of&nbsp;MB&nbsp;and&nbsp;MBIH&nbsp;are&nbsp;equal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx_in_B_mcnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#conv_atm_range"><span class="id" title="lemma">conv_atm_range</span></a> <span class="id" title="var">B</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hx_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="var">autolia</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hx_range</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_range</span>. <span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_range</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_range</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx_in_B</span> | [<span class="id" title="var">HxSp</span> | <span class="id" title="var">Hqxr</span>]]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MA</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heqval_M_MA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MA</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MB</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heqval_MA_MB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MBIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqval_MA_MB</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqval_M_MA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>...<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>, <span class="id" title="var">MBIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>...<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Nnf.html#meaningful_valuations"><span class="id" title="lemma">Nnf.meaningful_valuations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Nnf.html#agree"><span class="id" title="definition">Nnf.agree</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">w'</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx_in_B</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CegarTableaux.Nnf.html#max_atm"><span class="id" title="definition">Nnf.max_atm</span></a> <span class="id" title="var">B</span>). { <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Nnf.html#atm_le_max"><span class="id" title="lemma">Nnf.atm_le_max</span></a>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MBIH</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_overrides_all_sur"><span class="id" title="lemma">named_model_overrides_all_sur</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">phi</span> := <span class="id" title="var">B</span>) (<span class="id" title="var">n</span>:=(<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) (<span class="id" title="var">p</span>:=<span class="id" title="var">q</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;models&nbsp;agree&nbsp;on&nbsp;phi&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Nnf.html#agree"><span class="id" title="definition">Nnf.agree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w'</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx'_in_B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="or_sat" class="idref" href="#or_sat"><span class="id" title="lemma">or_sat</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:91" class="idref" href="#A:91"><span class="id" title="binder">A</span></a> <a id="B:92" class="idref" href="#B:92"><span class="id" title="binder">B</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>) (<a id="IHA:93" class="idref" href="#IHA:93"><span class="id" title="binder">IHA</span></a> : <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#A:91"><span class="id" title="variable">A</span></a>) (<a id="IHB:94" class="idref" href="#IHB:94"><span class="id" title="binder">IHB</span></a> : <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#B:92"><span class="id" title="variable">B</span></a>), <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> (<a class="idref" href="CegarTableaux.Nnf.html#Or"><span class="id" title="constructor">Nnf.Or</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#A:91"><span class="id" title="variable">A</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#B:92"><span class="id" title="variable">B</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">IHA</span> <span class="id" title="var">IHB</span> <span class="id" title="var">w0</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">Hmnp_lt</span> <span class="id" title="var">M'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">q</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">B_mcnf</span> <span class="id" title="var">r</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">MA</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">MB</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">MA</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">MA</span> <span class="id" title="var">q</span> <span class="id" title="var">MB</span> <span class="id" title="tactic">in</span> <span class="id" title="var">M'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">w0</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))). <span class="id" title="var">forward</span> <span class="id" title="var">IHA</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">MA</span> <span class="id" title="var">A_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHB</span> <span class="id" title="var">w0</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">q</span>). <span class="id" title="var">forward</span> <span class="id" title="var">IHB</span> <span class="id" title="tactic">by</span> <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">MBIH</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">MBIH</span> <span class="id" title="var">B_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHB</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHB</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#mcnf_force_and"><span class="id" title="lemma">Mcnf.mcnf_force_and</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;~n&nbsp;or&nbsp;p&nbsp;or&nbsp;S&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="axiom">classic</span> (<a class="idref" href="CegarTableaux.Nnf.html#force"><span class="id" title="definition">Nnf.force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">w0</span> (<a class="idref" href="CegarTableaux.Nnf.html#Or"><span class="id" title="constructor">Nnf.Or</span></a> <span class="id" title="var">A</span> <span class="id" title="var">B</span>))) <span class="id" title="keyword">as</span> [[<span class="id" title="var">HM_force_A</span> | <span class="id" title="var">HM_force_B</span>] | <span class="id" title="var">HM_nforce_AB</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;M&nbsp;|=&nbsp;A&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">M'</span>, <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#set_kripke_at_n_iff_force"><span class="id" title="definition">set_kripke_at_n_iff_force</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Pos"><span class="id" title="constructor">Lit.Pos</span></a> <span class="id" title="var">p</span>). <span class="id" title="tactic">split</span>... <span class="id" title="var">ifauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;M&nbsp;|=&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">M'</span>, <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#set_kripke_at_n_iff_force"><span class="id" title="definition">set_kripke_at_n_iff_force</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Pos"><span class="id" title="constructor">Lit.Pos</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;simpl&nbsp;goes&nbsp;too&nbsp;far&nbsp;with&nbsp;S&nbsp;p,&nbsp;makes&nbsp;it&nbsp;hard&nbsp;to&nbsp;resolve.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;remember&nbsp;to&nbsp;avoid&nbsp;simplifying&nbsp;too&nbsp;far.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">nB</span>. <span class="id" title="tactic">split</span>... <span class="id" title="var">ifauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;B&nbsp;&lt;-&gt;&nbsp;nB&nbsp;valued&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>...<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;but&nbsp;MB&nbsp;is&nbsp;applied&nbsp;on&nbsp;top&nbsp;of.&nbsp;show&nbsp;that&nbsp;M&nbsp;and&nbsp;MA&nbsp;agree&nbsp;on&nbsp;A&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Nnf.html#meaningful_valuations"><span class="id" title="lemma">Nnf.meaningful_valuations</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">MA</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Nnf.html#agree"><span class="id" title="definition">Nnf.agree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx_in_B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>...<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;M&nbsp;|/=&nbsp;A&nbsp;/\&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;then&nbsp;M'&nbsp;values&nbsp;~n&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">M'</span>, <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#set_kripke_at_n_iff_force"><span class="id" title="definition">set_kripke_at_n_iff_force</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Neg"><span class="id" title="constructor">Lit.Neg</span></a> <span class="id" title="var">n</span>). <span class="id" title="tactic">split</span>... <span class="id" title="var">ifauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;A_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#meaningful_valuations"><span class="id" title="lemma">Mcnf.meaningful_valuations</span></a> <span class="id" title="var">M'</span> <span class="id" title="var">MA</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;valuations&nbsp;equal&nbsp;for&nbsp;x&nbsp;in&nbsp;mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx_in_A_mcnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;range&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#conv_atm_range"><span class="id" title="lemma">conv_atm_range</span></a> <span class="id" title="var">A</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))) <span class="id" title="keyword">as</span> <span class="id" title="var">Hx_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hx_range</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_range</span>. <span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">n</span>). { <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_range</span>... }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">and_not_or</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">r</span>. <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_range</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_range</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;B_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#meaningful_valuations"><span class="id" title="lemma">Mcnf.meaningful_valuations</span></a> <span class="id" title="var">M'</span> <span class="id" title="var">MB</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;valuations&nbsp;equal&nbsp;for&nbsp;x&nbsp;in&nbsp;mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx_in_A_mcnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;range&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#conv_atm_range"><span class="id" title="lemma">conv_atm_range</span></a> <span class="id" title="var">B</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hx_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="var">autolia</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hx_range</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_range</span>. <span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">n</span>). { <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_range</span>... }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;MB&nbsp;forces&nbsp;B_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#meaningful_valuations"><span class="id" title="lemma">Mcnf.meaningful_valuations</span></a> <span class="id" title="var">MB</span> <span class="id" title="var">MBIH</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;show&nbsp;that&nbsp;valuation&nbsp;of&nbsp;MB&nbsp;and&nbsp;MBIH&nbsp;are&nbsp;equal&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx_in_B_mcnf</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">B_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_in_B_mcnf</span> |-.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#conv_atm_range"><span class="id" title="lemma">conv_atm_range</span></a> <span class="id" title="var">B</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hx_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="var">autolia</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hx_range</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_range</span>. <span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">r</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_range</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_range</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hx_in_B</span> | [<span class="id" title="var">HxSp</span> | <span class="id" title="var">Hqxr</span>]]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MA</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heqval_M_MA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MA</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Kripke.html#valuation"><span class="id" title="projection">Kripke.valuation</span></a> <span class="id" title="var">MB</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Heqval_MA_MB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MBIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqval_MA_MB</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqval_M_MA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>, <span class="id" title="var">MBIH</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>...<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Nnf.html#meaningful_valuations"><span class="id" title="lemma">Nnf.meaningful_valuations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Nnf.html#agree"><span class="id" title="definition">Nnf.agree</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">w'</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx_in_B</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="CegarTableaux.Nnf.html#max_atm"><span class="id" title="definition">Nnf.max_atm</span></a> <span class="id" title="var">B</span>). { <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Nnf.html#atm_le_max"><span class="id" title="lemma">Nnf.atm_le_max</span></a>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>... <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">MBIH</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">MB</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_overrides_all_sur"><span class="id" title="lemma">named_model_overrides_all_sur</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">phi</span> := <span class="id" title="var">B</span>) (<span class="id" title="var">n</span>:=(<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) (<span class="id" title="var">p</span>:=<span class="id" title="var">q</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;models&nbsp;agree&nbsp;on&nbsp;phi&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Nnf.html#agree"><span class="id" title="definition">Nnf.agree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w'</span> <span class="id" title="var">x'</span> <span class="id" title="var">Hx'_in_B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">MA</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_changes_sur_only"><span class="id" title="lemma">named_model_changes_sur_only</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="box_sat" class="idref" href="#box_sat"><span class="id" title="lemma">box_sat</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:95" class="idref" href="#A:95"><span class="id" title="binder">A</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>) (<a id="IHA:96" class="idref" href="#IHA:96"><span class="id" title="binder">IHA</span></a> : <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#A:95"><span class="id" title="variable">A</span></a>), <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> (<a class="idref" href="CegarTableaux.Nnf.html#Box"><span class="id" title="constructor">Nnf.Box</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#A:95"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">w0</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">Hmnp_lt</span> <span class="id" title="var">M'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">q</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;all&nbsp;neighbours&nbsp;force&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hnbr</span>. <span class="id" title="var">ifauto</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnbr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;destruct&nbsp;Hnbr&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">dnbr</span></span> <span class="inlinecode">[<span class="id" title="var">Hrel_dnbr</span></span> <span class="inlinecode"><span class="id" title="var">HM_force_nbr</span>]</span>.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">nbr</span> <span class="id" title="var">Hrel_nbr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ifauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;M'&nbsp;forces&nbsp;<span class="inlinecode"></span>A_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;M'&nbsp;forces&nbsp;A_mcnf&nbsp;at&nbsp;every&nbsp;neighbour&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#w0_force_ctx_iff_nbr_force_phi"><span class="id" title="lemma">Mcnf.w0_force_ctx_iff_nbr_force_phi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">nbr</span> <span class="id" title="var">Hrel_nbr</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;apply&nbsp;IH&nbsp;on&nbsp;the&nbsp;neighbour&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">nbr</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)). <span class="id" title="var">forward</span> <span class="id" title="var">IHA</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">A_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">M'IH</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#meaningful_valuations"><span class="id" title="lemma">Mcnf.meaningful_valuations</span></a> <span class="id" title="var">M'</span> <span class="id" title="var">M'IH</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;valuations&nbsp;equal&nbsp;for&nbsp;x&nbsp;&lt;&gt;&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx_in_A_mcnf</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">A_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_in_A_mcnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;range&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#conv_atm_range"><span class="id" title="lemma">conv_atm_range</span></a> <span class="id" title="var">A</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hx_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hx_range</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_range</span>. <span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hx_ne_n</span>. { <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_range</span>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">M'IH</span>, <span class="id" title="var">M'</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="dia_sat" class="idref" href="#dia_sat"><span class="id" title="lemma">dia_sat</span></a> : <span class="id" title="keyword">forall</span> (<a id="A:97" class="idref" href="#A:97"><span class="id" title="binder">A</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>) (<a id="IHA:98" class="idref" href="#IHA:98"><span class="id" title="binder">IHA</span></a> : <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#A:97"><span class="id" title="variable">A</span></a>), <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> (<a class="idref" href="CegarTableaux.Nnf.html#Dia"><span class="id" title="constructor">Nnf.Dia</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#A:97"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">w0</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">Hmnp_lt</span> <span class="id" title="var">M'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">q</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;exists&nbsp;a&nbsp;neighbour&nbsp;that&nbsp;forces&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hnbr</span>. <span class="id" title="var">ifauto</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnbr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnbr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dnbr</span> [<span class="id" title="var">Hrel_dnbr</span> <span class="id" title="var">HM_force_nbr</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">dnbr</span>. <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ifauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;M'&nbsp;forces&nbsp;<span class="inlinecode"></span>A_mcnf&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;M'&nbsp;forces&nbsp;A_mcnf&nbsp;at&nbsp;every&nbsp;neighbour&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#w0_force_ctx_iff_nbr_force_phi"><span class="id" title="lemma">Mcnf.w0_force_ctx_iff_nbr_force_phi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">nbr</span> <span class="id" title="var">Hrel_nbr</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;apply&nbsp;IH&nbsp;on&nbsp;the&nbsp;neighbour&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#IH"><span class="id" title="definition">IH</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">nbr</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)). <span class="id" title="var">forward</span> <span class="id" title="var">IHA</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">A_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">M'IH</span> := <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">IHA</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#meaningful_valuations"><span class="id" title="lemma">Mcnf.meaningful_valuations</span></a> <span class="id" title="var">M'</span> <span class="id" title="var">M'IH</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;valuations&nbsp;equal&nbsp;for&nbsp;x&nbsp;&lt;&gt;&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx_in_A_mcnf</span>. <span class="id" title="tactic">fold</span> <span class="id" title="var">A_mcnf</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_in_A_mcnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;range&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#conv_atm_range"><span class="id" title="lemma">conv_atm_range</span></a> <span class="id" title="var">A</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hx_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hx_range</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inline_pair</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx_range</span>. <span class="id" title="var">forward</span> <span class="id" title="var">Hx_range</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hx_ne_n</span>. { <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx_range</span>... }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">M'IH</span>, <span class="id" title="var">M'</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">ifauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="M'_force_n_impl_phi" class="idref" href="#M'_force_n_impl_phi"><span class="id" title="lemma">M'_force_n_impl_phi</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="w0:99" class="idref" href="#w0:99"><span class="id" title="binder">w0</span></a> : <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.W"><span class="id" title="variable">W</span></a>) (<a id="phi:100" class="idref" href="#phi:100"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>) (<a id="n:101" class="idref" href="#n:101"><span class="id" title="binder">n</span></a> <a id="p:102" class="idref" href="#p:102"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="Hmnp_lt:103" class="idref" href="#Hmnp_lt:103"><span class="id" title="binder">Hmnp_lt</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#max_atm"><span class="id" title="definition">Nnf.max_atm</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:100"><span class="id" title="variable">phi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:101"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:102"><span class="id" title="variable">p</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="M':104" class="idref" href="#M':104"><span class="id" title="binder">M'</span></a> := (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:101"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:100"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:102"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#force"><span class="id" title="definition">Mcnf.force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M':104"><span class="id" title="variable">M'</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w0:99"><span class="id" title="variable">w0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:101"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:100"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:102"><span class="id" title="variable">p</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">autolia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w0</span> <span class="id" title="var">phi</span>. <span class="id" title="var">revert</span> <span class="id" title="var">w0</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">phi</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]; <span class="id" title="tactic">intros</span> <span class="id" title="var">w0</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">Hmnp_lt</span> <span class="id" title="var">M'</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#lit_sat"><span class="id" title="lemma">lit_sat</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#and_sat"><span class="id" title="lemma">and_sat</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#or_sat"><span class="id" title="lemma">or_sat</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#box_sat"><span class="id" title="lemma">box_sat</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#dia_sat"><span class="id" title="lemma">dia_sat</span></a>...<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a id="nnf_to_mcnf_forces" class="idref" href="#nnf_to_mcnf_forces"><span class="id" title="lemma">nnf_to_mcnf_forces</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="w0:105" class="idref" href="#w0:105"><span class="id" title="binder">w0</span></a> : <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.W"><span class="id" title="variable">W</span></a>) (<a id="phi:106" class="idref" href="#phi:106"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>) (<a id="n:107" class="idref" href="#n:107"><span class="id" title="binder">n</span></a> <a id="p:108" class="idref" href="#p:108"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Nnf.html#max_atm"><span class="id" title="definition">Nnf.max_atm</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:106"><span class="id" title="variable">phi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:107"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:108"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Nnf.html#force"><span class="id" title="definition">Nnf.force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w0:105"><span class="id" title="variable">w0</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:106"><span class="id" title="variable">phi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#force"><span class="id" title="definition">Mcnf.force</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf.M"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:107"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:106"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:108"><span class="id" title="variable">p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w0:105"><span class="id" title="variable">w0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_nnf_with_sur"><span class="id" title="definition">Mcnfc.from_nnf_with_sur</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:107"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:106"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:108"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">w0</span> <span class="id" title="var">phi</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">Hmnp_lt</span> <span class="id" title="var">HMforce_phi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_nnf_with_sur"><span class="id" title="definition">Mcnfc.from_nnf_with_sur</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Pos"><span class="id" title="constructor">Lit.Pos</span></a> <span class="id" title="var">n</span>). <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model_vals_name_iff_force"><span class="id" title="lemma">named_model_vals_name_iff_force</span></a>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M'_force_n_impl_phi"><span class="id" title="lemma">M'_force_n_impl_phi</span></a>...<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#NnfToMcnf"><span class="id" title="section">NnfToMcnf</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="sat_nnf_to_mcnf" class="idref" href="#sat_nnf_to_mcnf"><span class="id" title="lemma">sat_nnf_to_mcnf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="phi:109" class="idref" href="#phi:109"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>), <a class="idref" href="CegarTableaux.Nnf.html#satisfiable"><span class="id" title="definition">Nnf.satisfiable</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:109"><span class="id" title="variable">phi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#satisfiable"><span class="id" title="definition">Mcnf.satisfiable</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_nnf"><span class="id" title="definition">Mcnfc.from_nnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:109"><span class="id" title="variable">phi</span></a>).<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">phi</span> <span class="id" title="var">Hphi_sat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Nnf.html#satisfiable"><span class="id" title="definition">Nnf.satisfiable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hphi_sat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hphi_sat</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">W</span> [<span class="id" title="var">R</span> [<span class="id" title="var">M</span> [<span class="id" title="var">w0</span> <span class="id" title="var">HM_force_phi</span>]]]].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#satisfiable"><span class="id" title="definition">Mcnf.satisfiable</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="CegarTableaux.Nnf.html#max_atm"><span class="id" title="definition">Nnf.max_atm</span></a> <span class="id" title="var">phi</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">W</span>, <span class="id" title="var">R</span>, (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#named_model"><span class="id" title="definition">named_model</span></a> <span class="id" title="var">M</span> <span class="id" title="var">n</span> <span class="id" title="var">phi</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)), <span class="id" title="var">w0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#nnf_to_mcnf_forces"><span class="id" title="lemma">nnf_to_mcnf_forces</span></a>...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="mcnf_to_nnf_forces" class="idref" href="#mcnf_to_nnf_forces"><span class="id" title="lemma">mcnf_to_nnf_forces</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="W:110" class="idref" href="#W:110"><span class="id" title="binder">W</span></a>} {<a id="R:111" class="idref" href="#R:111"><span class="id" title="binder">R</span></a>} (<a id="M:112" class="idref" href="#M:112"><span class="id" title="binder">M</span></a> : @<a class="idref" href="CegarTableaux.Kripke.html#t"><span class="id" title="record">Kripke.t</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:110"><span class="id" title="variable">W</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#R:111"><span class="id" title="variable">R</span></a>) (<a id="w0:113" class="idref" href="#w0:113"><span class="id" title="binder">w0</span></a> : <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#W:110"><span class="id" title="variable">W</span></a>) (<a id="phi:114" class="idref" href="#phi:114"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>) (<a id="n:115" class="idref" href="#n:115"><span class="id" title="binder">n</span></a> <a id="p:116" class="idref" href="#p:116"><span class="id" title="binder">p</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="Hmnp_lt:117" class="idref" href="#Hmnp_lt:117"><span class="id" title="binder">Hmnp_lt</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#max_atm"><span class="id" title="definition">Nnf.max_atm</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:114"><span class="id" title="variable">phi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:115"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:116"><span class="id" title="variable">p</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#force"><span class="id" title="definition">Mcnf.force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:112"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w0:113"><span class="id" title="variable">w0</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_nnf_with_sur"><span class="id" title="definition">Mcnfc.from_nnf_with_sur</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#n:115"><span class="id" title="variable">n</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:114"><span class="id" title="variable">phi</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#p:116"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CegarTableaux.Nnf.html#force"><span class="id" title="definition">Nnf.force</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#M:112"><span class="id" title="variable">M</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#w0:113"><span class="id" title="variable">w0</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:114"><span class="id" title="variable">phi</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">try</span> <span class="id" title="var">finish</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">W</span> <span class="id" title="var">R</span> <span class="id" title="var">M</span> <span class="id" title="var">w0</span> <span class="id" title="var">phi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">w0</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">phi</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">A</span> <span class="id" title="var">IHA</span> <span class="id" title="var">B</span> <span class="id" title="var">IHB</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">phi</span> <span class="id" title="var">IHphi</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">phi</span> <span class="id" title="var">IHphi</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;]; <span class="id" title="tactic">intros</span> <span class="id" title="var">w0</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span> <span class="id" title="var">Hmnp_lt</span> <span class="id" title="var">Hforce_mcnf</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_mcnf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HM_val_n</span> <span class="id" title="var">HM_force_nn_l</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HM_val_n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [[<span class="id" title="var">Hxn</span> | <span class="id" title="var">F</span>] <span class="id" title="var">Hforce_n</span>]]... <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_n</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HM_force_nn_l</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">x</span> [<span class="id" title="var">Hx</span> <span class="id" title="var">Hforce_x</span>]] <span class="id" title="var">_</span>]. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hxnn</span> | [<span class="id" title="var">Hlx</span> | <span class="id" title="var">F</span>]]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;x&nbsp;is&nbsp;~n:&nbsp;contradiction&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hxnn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_x</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_x</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hlx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_x</span>. <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;and&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmnp_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">q</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">B_mcnf</span> <span class="id" title="var">r</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;show&nbsp;that&nbsp;forces&nbsp;n,&nbsp;p&nbsp;and&nbsp;S&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_mcnf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hforce_n</span> [<span class="id" title="var">Hforce_nn_p</span> [<span class="id" title="var">Hforce_nn_Sp</span> <span class="id" title="var">Hforce_mcnf</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;n&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [[<span class="id" title="var">Hnx</span> | <span class="id" title="var">F</span>] <span class="id" title="var">Hforce_n</span>]]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hnx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_n</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">Hnx</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_nn_p</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [[<span class="id" title="var">Hnnx</span> | [<span class="id" title="var">Hpx</span> | <span class="id" title="var">F</span>]] <span class="id" title="var">Hforce_p</span>]]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hnnx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_p</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_p</span>. <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hpx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_p</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">Hpx</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;S&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_nn_Sp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [[<span class="id" title="var">Hnnx</span> | [<span class="id" title="var">HSpx</span> | <span class="id" title="var">F</span>]] <span class="id" title="var">Hforce_Sp</span>]]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hnnx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_Sp</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_Sp</span>. <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HSpx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_Sp</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">HSpx</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_Sp</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#mcnf_force_and"><span class="id" title="lemma">Mcnf.mcnf_force_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_mcnf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hforce_A_mcnf</span> <span class="id" title="var">Hforce_B_mcnf</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;A&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">w0</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)))... <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Pos"><span class="id" title="constructor">Lit.Pos</span></a> <span class="id" title="var">p</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;B&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHB</span> <span class="id" title="var">w0</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">q</span>)... <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Pos"><span class="id" title="constructor">Lit.Pos</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))...<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;or&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmnp_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">A</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">q</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">B</span> <span class="id" title="var">q</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">B_mcnf</span> <span class="id" title="var">r</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;show&nbsp;that&nbsp;forces&nbsp;n,&nbsp;p&nbsp;and&nbsp;S&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_mcnf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hforce_n</span> [<span class="id" title="var">Hforce_nn_p_Sp</span> <span class="id" title="var">Hforce_mcnf</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#mcnf_force_and"><span class="id" title="lemma">Mcnf.mcnf_force_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_mcnf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hforce_A_mcnf</span> <span class="id" title="var">Hforce_B_mcnf</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;n&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [[<span class="id" title="var">Hnx</span> | <span class="id" title="var">F</span>] <span class="id" title="var">Hforce_n</span>]]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hnx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_n</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">Hnx</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;p&nbsp;OR&nbsp;S&nbsp;p&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_nn_p_Sp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [[<span class="id" title="var">Hnnx</span> | [<span class="id" title="var">Hpx</span> | [<span class="id" title="var">HSpx</span> | <span class="id" title="var">F</span>]]] <span class="id" title="var">Hforce_x</span>]]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hnnx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_x</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_x</span>. <span class="id" title="var">contradiction</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;p:&nbsp;left&nbsp;branch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hpx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_x</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">Hpx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHA</span> <span class="id" title="var">w0</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)))... <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Pos"><span class="id" title="constructor">Lit.Pos</span></a> <span class="id" title="var">p</span>)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;forces&nbsp;S&nbsp;p:&nbsp;right&nbsp;branch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HSpx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_x</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">HSpx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHB</span> <span class="id" title="var">w0</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">q</span>)... <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Pos"><span class="id" title="constructor">Lit.Pos</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))...<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;box&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmnp_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">phi</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">q</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_mcnf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hforce_n</span> [<span class="id" title="var">Hforce_nbrs</span> <span class="id" title="var">Hforce_ctx</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;simplify&nbsp;Hforce_n&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [[<span class="id" title="var">Hnx</span> | <span class="id" title="var">F</span>] <span class="id" title="var">Hforce_n</span>]]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hnx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_n</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">Hnx</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_n</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Hforce_nbrs</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#w0_force_ctx_iff_nbr_force_phi"><span class="id" title="lemma">Mcnf.w0_force_ctx_iff_nbr_force_phi</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_ctx</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">nbr</span> <span class="id" title="var">Hrel_nbr</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHphi</span> <span class="id" title="var">nbr</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))... <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Pos"><span class="id" title="constructor">Lit.Pos</span></a> <span class="id" title="var">p</span>)...<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmnp_lt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_pair</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_n_nnf"><span class="id" title="definition">Mcnfc.from_n_nnf</span></a> <span class="id" title="var">p</span> <span class="id" title="var">phi</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">A_mcnf</span> <span class="id" title="var">q</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_mcnf</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_mcnf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hforce_n</span> [<span class="id" title="var">Hforce_dnbr</span> <span class="id" title="var">Hforce_ctx</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;simplify&nbsp;Hforce_n&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> [[<span class="id" title="var">Hnx</span> | <span class="id" title="var">F</span>] <span class="id" title="var">Hforce_n</span>]]...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hnx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_n</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">Hnx</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_n</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">Hforce_dnbr</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hforce_dnbr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dnbr</span> [<span class="id" title="var">Hrel_dnbr</span> <span class="id" title="var">Hval_p</span>]].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#w0_force_ctx_iff_nbr_force_phi"><span class="id" title="lemma">Mcnf.w0_force_ctx_iff_nbr_force_phi</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hforce_ctx</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">dnbr</span>. <span class="id" title="tactic">split</span>...<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHphi</span> <span class="id" title="var">dnbr</span> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span>))... <span class="id" title="tactic">split</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="CegarTableaux.Lit.html#Pos"><span class="id" title="constructor">Lit.Pos</span></a> <span class="id" title="var">p</span>)...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sat_mcnf_to_nnf" class="idref" href="#sat_mcnf_to_nnf"><span class="id" title="lemma">sat_mcnf_to_nnf</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="phi:118" class="idref" href="#phi:118"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>), <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#satisfiable"><span class="id" title="definition">Mcnf.satisfiable</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_nnf"><span class="id" title="definition">Mcnfc.from_nnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:118"><span class="id" title="variable">phi</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="CegarTableaux.Nnf.html#satisfiable"><span class="id" title="definition">Nnf.satisfiable</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:118"><span class="id" title="variable">phi</span></a>.<br/>
<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">autolia</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">phi</span> <span class="id" title="var">Hmcnf_sat</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#satisfiable"><span class="id" title="definition">Mcnf.satisfiable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmcnf_sat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmcnf_sat</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">W</span> [<span class="id" title="var">R</span> [<span class="id" title="var">M</span> [<span class="id" title="var">w0</span> <span class="id" title="var">Hforce_mcnf</span>]]]].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CegarTableaux.Nnf.html#satisfiable"><span class="id" title="definition">Nnf.satisfiable</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">W</span>, <span class="id" title="var">R</span>, <span class="id" title="var">M</span>, <span class="id" title="var">w0</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">n</span> := <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="CegarTableaux.Nnf.html#max_atm"><span class="id" title="definition">Nnf.max_atm</span></a> <span class="id" title="var">phi</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#mcnf_to_nnf_forces"><span class="id" title="lemma">mcnf_to_nnf_forces</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span>:=<span class="id" title="var">n</span>) (<span class="id" title="var">p</span>:=<a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>)...<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="nnf_mcnf_equisat" class="idref" href="#nnf_mcnf_equisat"><span class="id" title="lemma">nnf_mcnf_equisat</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="phi:119" class="idref" href="#phi:119"><span class="id" title="binder">phi</span></a> : <a class="idref" href="CegarTableaux.Nnf.html#t"><span class="id" title="inductive">Nnf.t</span></a>), <a class="idref" href="CegarTableaux.Nnf.html#satisfiable"><span class="id" title="definition">Nnf.satisfiable</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:119"><span class="id" title="variable">phi</span></a> <a class="idref" href="http://coq.inria.fr/doc/V9.0.0/stdlib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="CegarTableaux.Mcnf.Mcnf.html#satisfiable"><span class="id" title="definition">Mcnf.satisfiable</span></a> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#from_nnf"><span class="id" title="definition">Mcnfc.from_nnf</span></a> <a class="idref" href="CegarTableaux.Mcnf.Correctness.html#phi:119"><span class="id" title="variable">phi</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">phi</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sat_nnf_to_mcnf"><span class="id" title="lemma">sat_nnf_to_mcnf</span></a> <span class="id" title="var">phi</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="CegarTableaux.Mcnf.Correctness.html#sat_mcnf_to_nnf"><span class="id" title="lemma">sat_mcnf_to_nnf</span></a> <span class="id" title="var">phi</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a
    href="https://github.com/coq-community/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
